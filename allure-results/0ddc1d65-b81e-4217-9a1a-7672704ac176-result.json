{"name": "test_create_account", "status": "broken", "statusDetails": {"message": "NameError: name 'driver' is not defined", "trace": "login_and_dashboard = <pages.dashboard.dashboard_page.DashboardPage object at 0x0000021D7828DEE0>\n\n    @pytest.mark.order(1)  # اولویت تست\n    @allure.feature(\"User Account Creation\")  # ویژگی\n    @allure.story(\"Create a new user account\")  # داستان تست\n    @allure.severity(allure.severity_level.CRITICAL)  # سطح اهمیت\n    def test_create_account(login_and_dashboard):\n        \"\"\"تست ایجاد حساب کاربری جدید\"\"\"\n    \n    \n        try:\n            # مرحله 1: کلیک روی دکمه 'ایجاد حساب کاربری'\n            with allure.step(\"Click on 'Create Account' button\"):\n                logger.info(\"کلیک روی دکمه 'ایجاد حساب کاربری'...\")\n>               create_account_button = WebDriverWait(driver, 10).until(\n                    EC.presence_of_element_located((AppiumBy.ID, \"com.samanpr.blu.dev:id/openButton\"))\n                )\nE               NameError: name 'driver' is not defined\n\ntests\\kyc\\test_create_account.py:24: NameError\n\nDuring handling of the above exception, another exception occurred:\n\nlogin_and_dashboard = <pages.dashboard.dashboard_page.DashboardPage object at 0x0000021D7828DEE0>\n\n    @pytest.mark.order(1)  # اولویت تست\n    @allure.feature(\"User Account Creation\")  # ویژگی\n    @allure.story(\"Create a new user account\")  # داستان تست\n    @allure.severity(allure.severity_level.CRITICAL)  # سطح اهمیت\n    def test_create_account(login_and_dashboard):\n        \"\"\"تست ایجاد حساب کاربری جدید\"\"\"\n    \n    \n        try:\n            # مرحله 1: کلیک روی دکمه 'ایجاد حساب کاربری'\n            with allure.step(\"Click on 'Create Account' button\"):\n                logger.info(\"کلیک روی دکمه 'ایجاد حساب کاربری'...\")\n                create_account_button = WebDriverWait(driver, 10).until(\n                    EC.presence_of_element_located((AppiumBy.ID, \"com.samanpr.blu.dev:id/openButton\"))\n                )\n                create_account_button.click()\n                logger.info(\"دکمه 'ایجاد حساب کاربری' کلیک شد.\")\n    \n            # مرحله 2: کلیک روی دکمه 'بازکردن حساب'\n            with allure.step(\"Click on 'Open Account' button\"):\n                logger.info(\"کلیک روی دکمه 'بازکردن حساب'...\")\n                open_account_button = WebDriverWait(driver, 10).until(\n                    EC.presence_of_element_located((AppiumBy.ID, \"com.samanpr.blu.dev:id/openAccountButton\"))\n                )\n                open_account_button.click()\n                logger.info(\"دکمه 'بازکردن حساب' کلیک شد.\")\n    \n            # مرحله 3: انتخاب UAT در سرور\n            with allure.step(\"Select 'UAT' from server selection\"):\n                logger.info(\"انتخاب سرور 'UAT'...\")\n                uat_button = WebDriverWait(driver, 10).until(\n                    EC.presence_of_element_located((AppiumBy.ANDROID_UIAUTOMATOR,\n                                                    'new UiSelector().className(\"android.view.ViewGroup\").instance(3)'))\n                )\n                uat_button.click()\n                logger.info(\"سرور 'UAT' انتخاب شد.\")\n    \n        except Exception as e:\n            logger.error(f\"خطا رخ داد: {e}\")\n>           capture_screenshot(driver, \"account_creation_error\")\nE           NameError: name 'driver' is not defined\n\ntests\\kyc\\test_create_account.py:51: NameError"}, "description": "تست ایجاد حساب کاربری جدید", "steps": [{"name": "Click on 'Create Account' button", "status": "broken", "statusDetails": {"message": "NameError: name 'driver' is not defined\n", "trace": "  File \"G:\\android_automation\\tests\\kyc\\test_create_account.py\", line 24, in test_create_account\n    create_account_button = WebDriverWait(driver, 10).until(\n"}, "start": 1729339121238, "stop": 1729339121238}], "attachments": [{"name": "log", "source": "1dc2f3bd-a67e-4879-8eaa-58b1875ceae7-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "499913cc-7853-48be-832c-2bb86b88c436-attachment.txt", "type": "text/plain"}], "start": 1729339121238, "stop": 1729339121239, "uuid": "b955366c-a7c5-4077-ba98-faa624b9fe74", "historyId": "2ee0c4022f32e5c18d49d80a4a452ec5", "testCaseId": "2ee0c4022f32e5c18d49d80a4a452ec5", "fullName": "tests.kyc.test_create_account#test_create_account", "labels": [{"name": "story", "value": "Create a new user account"}, {"name": "feature", "value": "User Account Creation"}, {"name": "severity", "value": "critical"}, {"name": "tag", "value": "order(1)"}, {"name": "parentSuite", "value": "tests.kyc"}, {"name": "suite", "value": "test_create_account"}, {"name": "host", "value": "ajamshidi-lap-qa"}, {"name": "thread", "value": "29916-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.kyc.test_create_account"}]}