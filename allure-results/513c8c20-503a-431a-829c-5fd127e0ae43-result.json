{"name": "test_close_onboarding_and_check_box_texts", "status": "failed", "statusDetails": {"message": "AssertionError: Errors encountered during test:\nError in no_active_box_title: Expected 'باکس فعالی ندارید', but got 'My Test Box1'\nassert 'My Test Box1' == 'باکس فعالی ندارید'\n  \n  - باکس فعالی ندارید\n  + My Test Box1", "trace": "login_and_dashboard = <pages.dashboard.dashboard_page.DashboardPage object at 0x0000020A4AC64DC0>\ndevice_name = 'Galaxy S24 Ultra'\n\n    @pytest.mark.order(1)\n    @pytest.mark.check_box\n    @allure.feature(\"Box Page\")\n    @allure.story(\"Close Onboarding and Check Box Texts\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_close_onboarding_and_check_box_texts(login_and_dashboard, device_name):\n        \"\"\"تست بسته شدن انبوردینگ و بررسی متن‌های صفحه باکس\"\"\"\n    \n        box_page = login_and_dashboard\n        driver = box_page.driver\n    \n        # بارگذاری فایل JSON برای دریافت متون مرجع\n        text_reference = load_text_reference()\n    \n        # متغیر برای ذخیره نتیجه تست\n        errors = []\n    \n        try:\n            with allure.step(f\"Click on box icon to open box page for device: {device_name}\"):\n                logger.info(f\"کلیک روی آیکون باکس برای باز کردن صفحه باکس: {device_name}\")\n                box_page = login_and_dashboard.click_box_icon()\n    \n            with allure.step(\"Close the onboarding page\"):\n                logger.info(\"بستن صفحه انبوردینگ...\")\n                box_page.close_onboarding()\n    \n            with allure.step(\"Check if the box page is displayed\"):\n                assert box_page.is_box_page_displayed(), \"صفحه باکس بعد از بستن انبوردینگ نمایش داده نشده است.\"\n                logger.info(\"بررسی نمایش صفحه باکس...\")\n    \n            # مقایسه مقادیر با متون مرجع از فایل JSON\n            with allure.step(\"Check '۰ ریال' text\"):\n                try:\n                    expected_text = text_reference[\"box_page\"][\"box_deposit_text\"]\n                    actual_text = box_page.get_box_deposit_text()  # تابعی که متن واقعی را برمی‌گرداند\n                    assert actual_text == expected_text, \\\n                        f\"Expected '{expected_text}', but got '{actual_text}'\"\n                    logger.info(f\"بررسی متن '{expected_text}' پاس شد.\")\n                except AssertionError as e:\n                    errors.append(f\"Error in box_deposit_text: {e}\")\n                    logger.error(str(e))\n    \n            with allure.step(\"Check 'موجودی باکس‌ها' text\"):\n                try:\n                    expected_text = text_reference[\"box_page\"][\"box_deposit_description\"]\n                    actual_text = box_page.get_box_deposit_description()  # تابعی که متن واقعی را برمی‌گرداند\n                    assert actual_text == expected_text, \\\n                        f\"Expected '{expected_text}', but got '{actual_text}'\"\n                    logger.info(f\"بررسی متن '{expected_text}' پاس شد.\")\n                except AssertionError as e:\n                    errors.append(f\"Error in box_deposit_description: {e}\")\n                    logger.error(str(e))\n    \n            with allure.step(\"Check 'باکس فعالی ندارید' text\"):\n                try:\n                    expected_text = text_reference[\"box_page\"][\"no_active_box_title\"]\n                    actual_text = box_page.get_no_active_box_title()  # تابعی که متن واقعی را برمی‌گرداند\n                    assert actual_text == expected_text, \\\n                        f\"Expected '{expected_text}', but got '{actual_text}'\"\n                    logger.info(f\"بررسی متن '{expected_text}' پاس شد.\")\n                except AssertionError as e:\n                    errors.append(f\"Error in no_active_box_title: {e}\")\n                    logger.error(str(e))\n    \n        except Exception as e:\n            logger.error(f\"خطا رخ داد: {e}\")\n            capture_screenshot(driver, \"box_page_error\")\n            raise e\n    \n        # گزارش خطاهای ثبت شده (در صورت وجود)\n        if errors:\n>           raise AssertionError(\"Errors encountered during test:\\n\" + \"\\n\".join(errors))\nE           AssertionError: Errors encountered during test:\nE           Error in no_active_box_title: Expected 'باکس فعالی ندارید', but got 'My Test Box1'\nE           assert 'My Test Box1' == 'باکس فعالی ندارید'\nE             \nE             - باکس فعالی ندارید\nE             + My Test Box1\n\ntests\\box\\test_box.py:85: AssertionError"}, "description": "تست بسته شدن انبوردینگ و بررسی متن‌های صفحه باکس", "steps": [{"name": "Click on box icon to open box page for device: Galaxy S24 Ultra", "status": "passed", "start": 1728980688755, "stop": 1728980688861}, {"name": "Close the onboarding page", "status": "passed", "start": 1728980688861, "stop": 1728980710342}, {"name": "Check if the box page is displayed", "status": "passed", "start": 1728980710343, "stop": 1728980711739}, {"name": "Check '۰ ریال' text", "status": "passed", "start": 1728980711739, "stop": 1728980711896}, {"name": "Check 'موجودی باکس‌ها' text", "status": "passed", "start": 1728980711896, "stop": 1728980712032}, {"name": "Check 'باکس فعالی ندارید' text", "status": "passed", "start": 1728980712032, "stop": 1728980712192}], "attachments": [{"name": "log", "source": "6d629a51-dcc7-4020-a1be-982cfb6c7101-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "d5406c9c-f5e9-4f2f-90c0-f8aed81bb173-attachment.txt", "type": "text/plain"}], "start": 1728980688754, "stop": 1728980712193, "uuid": "2c9b3a59-df59-47ee-90c0-140c391b1428", "historyId": "372cec981dead8d05da0ba57aba1f8eb", "testCaseId": "372cec981dead8d05da0ba57aba1f8eb", "fullName": "tests.box.test_box#test_close_onboarding_and_check_box_texts", "labels": [{"name": "tag", "value": "check_box"}, {"name": "tag", "value": "order(1)"}, {"name": "parentSuite", "value": "tests.box"}, {"name": "suite", "value": "test_box"}, {"name": "host", "value": "ajamshidi-lap-qa"}, {"name": "thread", "value": "190096-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.box.test_box"}]}